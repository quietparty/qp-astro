---
import type {CollectionEntry} from "astro:content"
export type Props = NonNullable<CollectionEntry<"blog">["data"]["song"]>
const {art, sources, url} = Astro.props
---

<article>
	<figure>
		{art ? <img src={art.src} /> : <div />}
	</figure>
	<audio controls src={url}>
		{
			sources &&
				sources.map(source => <source src={source.url} type={source.format} />)
		}
	</audio>
</article>

<style>
	article {
		display: flex;
		place-items: center;
		place-content: space-between;
	}
	figure {
		margin: 0;
		> * {
			height: 8rem;
			width: 8rem;
			background-image: linear-gradient(to bottom right, #555, #333);
			border-radius: 4px;
		}
	}
	audio {
		flex: 1;
	}
</style>
